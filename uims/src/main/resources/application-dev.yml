server:
  port: 8888
  servlet:
    context-path: /uims

#localhost:8888/uims/v3/api-docs

spring:
  application:
    name: uims
  jackson:
    time-zone: GMT+8
  # 连接数据库
  datasource:
    #    mysql数据库
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://${MYSQL_SERVER_IP:localhost}:3306/dev-test?useUnicode=true&characterEncoding=UTF-8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true&autoReconnect=true
    username: ${MYSQL_USERNAME:root}
    password: ${MYSQL_PASSWORD:123456}
    # 连接池设置
    type: com.zaxxer.hikari.HikariDataSource
    hikari:
      # 最大连接池数量
      maximum-pool-size: 30
      # 最小空闲线程数量
      minimum-idle: 5
      # 配置获取连接等待超时的时间
      connectionTimeout: 30000
      # 校验超时时间
      validationTimeout: 5000
      # 空闲连接存活最大时间，默认10分钟
      idleTimeout: 600000
      # 此属性控制池中连接的最长生命周期，值0表示无限生命周期，默认30分钟
      maxLifetime: 1800000
      # 连接测试query（配置检测连接是否有效）
      connectionTestQuery: SELECT 1
      # 多久检查一次连接的活性
      keepaliveTime: 30000
  jpa:
    #    database-platform: org.hibernate.dialect.MySQLDialect
    show-sql: true
    open-in-view: false
    properties:
      "hibernate.format_sql": true
    hibernate:
      ddl-auto: update
  mvc:
    pathmatch:
      matching-strategy: ant_path_matcher
  data:
    redis:
      # 地址
      host: ${REDIS_SERVER_IP:localhost}
      # 端口，默认为6379
      port: 6379
      # 数据库索引
      database: 0
      # 密码(如没有密码请注释掉)
      # password:
      # 连接超时时间
      timeout: 10s
      # 是否开启ssl
      ssl: false
  quartz:
    # 使用数据库存储
    job-store-type: jdbc
    # 初始化完成后自动启动调度程序
    scheduler-name: uims_scheduler
    # 应用关闭时需要完成当前执行任务
    wait-for-jobs-to-complete-on-shutdown: true
    startup-delay: 5s
    autoStartup: true
    jdbc:
      #始化表结构
      initialize-schema: embedded
    properties:
      org:
        quartz:
          # 调度器配置
          scheduler:
            instanceName: bootQuartzScheduler
            instanceId: AUTO
          jdbc:
            initialize-schema: never # 是否自动使用 SQL 初始化 Quartz 表结构。这里设置成 never ，我们手动创建表结构
          # 存储配置
          jobStore:
            class: org.quartz.impl.jdbcjobstore.JobStoreTX #持久化配置
            driverDelegateClass: org.quartz.impl.jdbcjobstore.StdJDBCDelegate #仅为数据库制作了特定于数据库的代理
            useProperties: false #以指示JDBCJobStore将JobDataMaps中的所有值都作为字符串，因此可以作为名称 - 值对存储而不是在BLOB列中以其序列化形式存储更多复杂的对象。从长远来看，这是更安全的，因为您避免了将非String类序列化为BLOB的类版本问题。
            tablePrefix: qrtz_  #数据库表前缀
            misfireThreshold: 60000 #在被认为“失火”之前，调度程序将“容忍”一个Triggers将其下一个启动时间通过的毫秒数。默认值（如果您在配置中未输入此属性）为60000（60秒）。
            clusterCheckinInterval: 5000 #设置此实例“检入”*与群集的其他实例的频率（以毫秒为单位）。影响检测失败实例的速度。
            isClustered: true #打开群集功能
          # 线程池配置
          threadPool:
            threadNamePrefix: scheduler_pool
            class: org.quartz.simpl.SimpleThreadPool
            threadCount: 10
            threadPriority: 5
            threadsInheritContextClassLoaderOfInitializingThread: true

# 日志配置
logging:
  level:
    "ROOT": info
    "org.hibernate.type.descriptor.sql.BasicBinder": TRACE

sugarcoat:
  cache:
    # redis key前缀
    keyPrefix: sugarcoat
    # 线程池数量
    threads: 4
    # Netty线程池数量
    nettyThreads: 8
    # 单节点配置
    singleServerConfig:
      # 客户端名称
      clientName: ${spring.application.name}
      # 最小空闲连接数
      connectionMinimumIdleSize: 8
      # 连接池大小
      connectionPoolSize: 32
      # 连接空闲超时，单位：毫秒
      idleConnectionTimeout: 10000
      # 命令等待超时，单位：毫秒
      timeout: 3000
      # 发布和订阅连接池大小
      subscriptionConnectionPoolSize: 50
  # redis 单机配置(单机与集群只能开启一个另一个需要注释掉)
  doc:
    enable: true
    title: 用户界面管理系统
    description: 用户界面管理系统
    version: V1.0
    url: http://localhost:${server.port}${server.servlet.context-path}
    email: sugarcoatx@qq.com
    license: MIT
    license-url: https://mit-license.org/
  dictionary:
    enable: true
    scanPackage: com.sugarcoat.uims
    registerStrategy: OVERRIDE
    enableCache: true
    cachePrefix: 'sugarcoat:dict:'
  param:
    enable: true
    enableRegister: true
    scanPackage: com.sugarcoat.uims
    enableCache: true
    cachePrefix: 'sugarcoat:param:'
  email:
    enable: false
    host: "smtp.qq.com"
    port: 465
    username: ${EMAIL_USERNAME}
    password: ${EMAIL_PASSWORD}
  sms:
    enable: false
    type: aliyun
  #    type: tencent
  oss:
    enable: false
    bucketName: x
    endPoint: x
    accessKey: x
    secretKey: x
  server:
    enable: true





